(function(){$.fn.extend({swappable:function(options){this.defaults={id:"swappable-temp-input","class":"swappable-input",name:"swappable-temp",evt:"click",end:"blur",saveChanges:true,changeEvent:"input",swapStart:function(){},swapChange:function(){},swapEnd:function(){}};var settings=$.extend({},this.defaults,options);function makeTemplate(){if(settings.type==="textarea"){return'<textarea class="'+settings.class+'" name="'+settings.name+'" id="'+settings.id+'">'+decodeURI(settings.text)+"</textarea>"}else{return'<input type="text" class="'+settings.class+'" name="'+settings.name+'" id="'+settings.id+'" value="'+decodeURI(settings.text)+'">'}}function handleSwap(){var val=!settings.saveChanges?decodeURI(settings.text):$(this).val();var $p=$(settings.temp);$p.text(val);$(this).replaceWith($p);$p.swappable(settings);settings.swapEnd.call($p[0])}function handleClick(){settings.swapStart();var $this=$(this);settings.temp=this.outerHTML;settings.text=encodeURI($this.text());settings.type=$this.attr("data-swap-type");$this.replaceWith(makeTemplate());var $input=$("#"+settings.id);$input.on(settings.changeEvent,settings.swapChange).on(settings.end,handleSwap).focus()}return this.each(function(){$(this).on(settings.evt,handleClick)})}})})();